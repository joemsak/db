webpackJsonp([1],{127:function(t,e,n){"use strict";var i=n(3),a=(n(4),n(128));e.a={data:function(){return i.Settings},components:{dbMoney:a.a}}},128:function(t,e,n){"use strict";var i=n(129),a=n(149),r=n(2),o=r(i.a,a.a,!1,null,null,null);e.a=o.exports},129:function(t,e,n){"use strict";var i=n(148);n.n(i);e.a={data:function(){return{value:this.model,money:{decimal:".",thousands:",",prefix:"$",suffix:"",precision:2,masked:!1}}},props:["model"],components:{Money:i.Money},watch:{value:function(t){this.$emit("changed",t)}}}},130:function(t,e,n){"use strict";var i=(n(153),n(0)),a=n(942),r=n(944),o=function(t,e,n,i){this.category=t||"",this.amount=e||0,this.payPeriod=n,this.id=i,this.isEditing=!1,this.isValid=function(){return""!=this.category&&0!=this.amount&&void 0!=this.payPeriod}};e.a={data:function(){var t=this;return{bills:this.initialBills.filter(function(e){return e.payPeriod==t.payPeriod}),newBill:new o("",0,this.payPeriod)}},computed:{nextKey:function(){return this.bills.length}},props:["initialBills","title","subTitle","prevSection","nextSection","payPeriod"],components:{Icon:i.a,dbCurrency:a.a,dbBillForm:r.a},methods:{handleNewBillSubmit:function(t){t&&t.isValid()&&(t.id=this.nextKey,t.isEditing=!1,this.bills.unshift(t),this.newBill=new o("",0,this.payPeriod))},handleSubmit:function(t){new o(t.category,t.amount,t.payPeriod,t.id).isValid()&&(t.isEditing=!1)},removeBill:function(t){var e=this.bills.findIndex(function(e){return e.id==t});this.bills.splice(e,1)},editBill:function(t){var e=this.bills.findIndex(function(e){return e.id==t});this.bills[e].isEditing=!0}},mounted:function(){this.$refs.newBillForm.$el.querySelector("input").focus()}}},132:function(t,e,n){"use strict";e.a={name:"Currency",props:{value:{required:!0,type:[Number,String],default:0}},computed:{formattedValue:function(){return new Intl.NumberFormat("us-EN",{style:"currency",currency:"USD"}).format(parseFloat(this.value).toFixed(2))}}}},133:function(t,e,n){"use strict";var i=n(128);e.a={data:function(){return{bill:this.initialBill}},props:["initialBill","buttonText"],components:{dbMoney:i.a},methods:{handleSubmit:function(){this.$emit("submit",this.bill)}}}},134:function(t,e,n){t.exports=n(3)},139:function(t,e,n){"use strict";function i(t){n(140)}var a=n(6),r=n(949),o=n(2),s=i,l=o(a.a,r.a,!1,s,null,null);e.a=l.exports},140:function(t,e){},142:function(t,e,n){"use strict";function i(t){n(143)}var a=n(7),r=n(948),o=n(2),s=i,l=o(a.a,r.a,!1,s,"data-v-cbd2eaa8",null);e.a=l.exports},143:function(t,e){},146:function(t,e,n){"use strict";function i(t){n(147)}var a=n(127),r=n(150),o=n(2),s=i,l=o(a.a,r.a,!1,s,"data-v-9087be5e",null);e.a=l.exports},147:function(t,e){},149:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("money",t._b({model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},"money",t.money,!1))},a=[],r={render:i,staticRenderFns:a};e.a=r},150:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{on:{submit:function(e){t.$emit("stepFwd")}}},[n("label",[t._v("\n    First pay day this month:\n    "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.payDay1.format("YYYY-MM-DD"),expression:"payDay1.format('YYYY-MM-DD')"}],attrs:{type:"date"},domProps:{value:t.payDay1.format("YYYY-MM-DD")},on:{input:function(e){e.target.composing||t.$set(t.payDay1,"format('YYYY-MM-DD')",e.target.value)}}})]),t._v(" "),n("label",[t._v("\n    Second pay day this month:\n    "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.payDay2.format("YYYY-MM-DD"),expression:"payDay2.format('YYYY-MM-DD')"}],attrs:{type:"date"},domProps:{value:t.payDay2.format("YYYY-MM-DD")},on:{input:function(e){e.target.composing||t.$set(t.payDay2,"format('YYYY-MM-DD')",e.target.value)}}})]),t._v(" "),n("label",[t._v("\n    Take-home amount each pay day:\n    "),n("db-money",{attrs:{model:t.income},on:{changed:function(e){return t.income=e}}})],1),t._v(" "),n("input",{attrs:{type:"submit",value:"Next"}})])},a=[],r={render:i,staticRenderFns:a};e.a=r},151:function(t,e,n){"use strict";function i(t){n(152)}var a=n(130),r=n(947),o=n(2),s=i,l=o(a.a,r.a,!1,s,"data-v-b0f16fbc",null);e.a=l.exports},152:function(t,e){},3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"Settings",function(){return d});for(var i=n(135),a=n(139),r=n(4),o=n(1),s=n.n(o),l=s()().date(15),c=s()().endOf("month"),u=s()().get("year")+"."+s()().format("MM");l.day()>5;)l.subtract(1,"days");for(;c.day()>5;)c.subtract(1,"days");var d=new i.a({data:{payDay1:r.a.get(u+".payDay1",{parser:"DATE",default:l}),payDay2:r.a.get(u+".payDay2",{parser:"DATE",default:c}),income:r.a.get("income",{parser:"FLOAT",default:0})},watch:{payDay1:function(t){r.a.set(u+".payDay1",t)},payDay2:function(t){r.a.set(u+".payDay2",t)},income:function(t){r.a.set("income",t)}},methods:{isValid:function(){return void 0!=this.payDay1&&void 0!=this.payDay2&&![void 0,0,null,"0.00",NaN].includes(this.income)}}});new i.a({el:"#app",render:function(t){return t(a.a)}})},4:function(t,e,n){"use strict";var i=n(1),a=n.n(i),r=function(){this.parse=function(t){return t}},o=function(){this.parse=function(t){return parseFloat(t)}},s=function(){this.parse=function(t){return"string"!=typeof t&&(t=JSON.stringify(t)),JSON.parse(t)}},l=function(){this.parse=function(t){return a()(t)}},c=function(){this.format=function(t){return t}},u=function(){this.format=function(t){return JSON.stringify(t)}},d=function(){this.for=function(t){switch(t){case"FLOAT":return new o;case"JSON":return new s;case"DATE":return new l;default:return new r}}},f=function(){this.for=function(t){switch(t){case"JSON":return new u;default:return new c}}},m={PREFIX:"DB"};e.a={get:function(t,e){e=e||{},t=m.PREFIX+"."+t;var n=localStorage.getItem(t)||e.default;return(new d).for(e.parser).parse(n)},set:function(t,e,n){n=n||{},t=m.PREFIX+"."+t;var i=(new f).for(n.formatter);localStorage.setItem(t,i.format(e))}}},6:function(t,e,n){"use strict";var i=n(141),a=n.n(i),r=n(142);a.a.load({google:{families:["Roboto"]}}),e.a={components:{dbWelcome:r.a}}},7:function(t,e,n){"use strict";var i=n(3),a=n(4),r=n(146),o=n(151);e.a={data:function(){return{welcomeStep:a.a.get("welcomeStep",{default:"incomeSettings"}),payDayBills:a.a.get("payDayBills",{parser:"JSON",default:[]})}},components:{dbSettingsForm:r.a,dbBillEntry:o.a},computed:{billEntry1SubTitle:function(){return i.Settings.payDay1.format("dddd, MMM Do")+" – "+i.Settings.payDay2.subtract(1,"days").format("dddd, MMM Do")},billEntry2SubTitle:function(){return i.Settings.payDay2.format("dddd, MMM Do")+" – "+i.Settings.payDay2.endOf("month").subtract(1,"days").format("dddd, MMM Do")}},watch:{welcomeStep:function(t){a.a.set("welcomeStep",t)},payDayBills:{deep:!0,handler:function(t){a.a.set("payDayBills",t,{formatter:"JSON"})}}}}},942:function(t,e,n){"use strict";var i=n(132),a=n(943),r=n(2),o=r(i.a,a.a,!1,null,null,null);e.a=o.exports},943:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",[t._v("\n  "+t._s(t.formattedValue)+"\n")])},a=[],r={render:i,staticRenderFns:a};e.a=r},944:function(t,e,n){"use strict";function i(t){n(945)}var a=n(133),r=n(946),o=n(2),s=i,l=o(a.a,r.a,!1,s,"data-v-0e8cc0ea",null);e.a=l.exports},945:function(t,e){},946:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[n("form",{on:{submit:function(e){e.preventDefault(),t.handleSubmit(e)}}},[n("div",{staticClass:"grid grid--bleed"},[n("div",{staticClass:"grid__col-sm-6 grid__col--bleed-x"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.bill.category,expression:"bill.category"}],attrs:{type:"text",placeholder:"Category"},domProps:{value:t.bill.category},on:{input:function(e){e.target.composing||t.$set(t.bill,"category",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"grid__col-sm-4 grid__col--bleed-x"},[n("db-money",{attrs:{model:t.bill.amount},on:{changed:function(e){return t.bill.amount=e}}})],1),t._v(" "),n("div",{staticClass:"grid__col-sm-2 grid__col--bleed-x"},[n("button",[t._v(t._s(t.buttonText))])])])])])},a=[],r={render:i,staticRenderFns:a};e.a=r},947:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("div",{staticClass:"header"},[n("h1",[t._v(t._s(t.title))]),t._v(" "),n("h2",[t._v(t._s(t.subTitle))]),t._v(" "),n("div",{staticClass:"grid grid--bleed grid--justify-center"},[n("div",{staticClass:"grid__col-sm-8 grid__col--bleed"},[n("ul",[n("db-bill-form",{ref:"newBillForm",attrs:{buttonText:"+ Add",initialBill:t.newBill},on:{submit:t.handleNewBillSubmit}})],1)])])]),t._v(" "),n("div",{staticClass:"container grid grid--justify-center"},[n("div",{staticClass:"grid__col-sm-8"},[n("ul",t._l(t.bills,function(e){return e.isEditing?n("db-bill-form",{key:e.id,ref:"billForm"+e.id,refInFor:!0,attrs:{buttonText:"Save",initialBill:e},on:{submit:t.handleSubmit}}):n("li",{key:e.id},[n("div",{staticClass:"grid grid--bleed"},[n("div",{staticClass:"grid__col-sm-6 grid__col--bleed-x"},[t._v("\n              "+t._s(e.category)+"\n            ")]),t._v(" "),n("div",{staticClass:"grid__col-sm-4 grid__col--bleed-x"},[n("db-currency",{attrs:{value:e.amount}})],1),t._v(" "),n("div",{staticClass:"grid__col-sm-2 grid__col--bleed-x"},[n("icon",{attrs:{name:"edit"},nativeOn:{click:function(n){t.editBill(e.id)}}}),t._v(" "),n("icon",{staticClass:"icon--red",attrs:{name:"times"},nativeOn:{click:function(n){t.removeBill(e.id)}}})],1)])])}))])]),t._v(" "),n("div",{staticClass:"footer"},[n("button",{staticClass:"footer__back-btn",on:{click:function(e){t.$emit("stepBack")}}},[t._v("\n      go back to "+t._s(t.prevSection)+"\n    ")]),t._v(" "),n("button",{on:{click:function(e){t.$emit("stepFwd")}}},[t._v("\n      Next: "+t._s(t.nextSection)+" →\n    ")])])])},a=[],r={render:i,staticRenderFns:a};e.a=r},948:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return"incomeSettings"==t.welcomeStep?n("db-settings-form",{on:{stepFwd:function(e){t.welcomeStep="billEntry1"}}}):"billEntry1"==t.welcomeStep?n("db-bill-entry",{attrs:{title:"Bills during 1st pay period","pay-period":"1","prev-section":"Income settings","next-section":"Bills during 2nd pay period","sub-title":t.billEntry1SubTitle,initialBills:t.payDayBills},on:{stepBack:function(e){t.welcomeStep="incomeSettings"},stepFwd:function(e){t.welcomeStep="billEntry2"}}}):"billEntry2"==t.welcomeStep?n("db-bill-entry",{attrs:{title:"Bills during 2nd pay period","pay-period":"2","prev-section":"Bills during 1st pay period","next-section":"My dashboard","sub-title":t.billEntry2SubTitle,initialBills:t.payDayBills},on:{stepBack:function(e){t.welcomeStep="billEntry1"},stepFwd:function(e){t.welcomeStep="done"}}}):n("div",[t._v("\n  Dashboard...\n")])},a=[],r={render:i,staticRenderFns:a};e.a=r},949:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("db-welcome")},a=[],r={render:i,staticRenderFns:a};e.a=r}},[134]);
//# sourceMappingURL=client.b507070c.js.map