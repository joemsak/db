webpackJsonp([1],{125:function(e,t,n){"use strict";var a=function(){this.parse=function(e){return e}},s=function(){this.parse=function(e){return parseFloat(e)}},r=function(){this.parse=function(e){return JSON.parse(e)}},i=function(){this.format=function(e){return e}},o=function(){this.format=function(e){return JSON.stringify(e)}},u=function(){this.for=function(e){switch(e){case"FLOAT":return new s;case"JSON":return new r;default:return new a}}},l=function(){this.for=function(e){switch(e){case"JSON":return new o;default:return new i}}},c={PREFIX:"DB"};t.a={get:function(e,t){t=t||{},e=c.PREFIX+"."+e;var n=localStorage.getItem(e)||t.default;return(new u).for(t.parser).parse(n)},set:function(e,t,n){n=n||{},e=c.PREFIX+"."+e;var a=(new l).for(n.formatter);localStorage.setItem(e,a.format(t))}}},126:function(e,t,n){"use strict";var a=n(124),s=(n.n(a),function(e,t){this.amount=e||0,this.category=t||""});t.a={name:"ExpenseForm",data:function(){return{expense:new s,money:{decimal:".",thousands:",",prefix:"$",suffix:"",precision:2,masked:!1}}},props:{submitHandler:{required:!1,type:Function,default:function(){return!1}},editingExpense:{required:!1,type:Object,default:{}}},components:{Money:a.Money},watch:{editingExpense:function(e){this.expense=new s(e.amount,e.category)}},methods:{handleSubmit:function(){if(!function(e){var t=parseFloat(e.expense.amount).toFixed(2),n=e.expense.category;return window.errorTimeout&&(clearTimeout(window.errorTimeout),window.errorTimeout=null),[0,NaN].includes(t)?(e.$refs.amount.$el.classList.add("field--error"),window.errorTimeout=setTimeout(function(){e.$refs.amount.$el.classList.remove("field--error")}),e.$refs.amount.$el.focus(),e.$refs.amount.$el.select(),!1):!!n.length||(e.$refs.category.classList.add("field--error"),window.errorTimeout=setTimeout(function(){e.$refs.category.classList.remove("field--error")}),e.$refs.category.focus(),!1)}(this))return!1;this.submitHandler(this.expense),this.expense=new s,this.$refs.category.focus()}}}},127:function(e,t,n){"use strict";var a=n(149),s=n(132);t.a={props:{expenses:{required:!0,type:Array},amountPaid:{required:!0,type:Number},editClickHandler:{required:!1,type:Function,default:function(){return!1}},deleteClickHandler:{required:!1,type:Function,default:function(){return!1}}},watch:{expenses:function(e,t){e.length>t.length&&this.highlightInsertedRow()}},components:{ExpenseRow:a.a,Calculations:s.a},methods:{highlightInsertedRow:function(){var e=this.$refs.expenseTable.querySelector(".table__body .table__row:first-child");e.classList.add("table__row--inserted","table__row--highlighted"),setTimeout(function(){e.classList.remove("table__row--highlighted"),setTimeout(function(){e.classList.remove("table__row--inserted")},1510)})}}}},128:function(e,t,n){"use strict";var a=(n(151),n(0)),s=n(130);t.a={name:"ExpenseRow",props:{editClickHandler:{required:!1,type:Function,default:function(){return!1}},deleteClickHandler:{required:!1,type:Function,default:function(){return!1}},expense:{required:!0,type:Object},i:{required:!0,type:Number}},components:{Icon:a.a,Currency:s.a}}},130:function(e,t,n){"use strict";var a=n(131),s=n(940),r=n(2),i=r(a.a,s.a,!1,null,null,null);t.a=i.exports},131:function(e,t,n){"use strict";t.a={name:"Currency",props:{value:{required:!0,type:[Number,String],default:0}},computed:{formattedValue:function(){return new Intl.NumberFormat("us-EN",{style:"currency",currency:"USD"}).format(parseFloat(this.value).toFixed(2))}}}},132:function(e,t,n){"use strict";var a=n(133),s=n(942),r=n(2),i=r(a.a,s.a,!1,null,null,null);t.a=i.exports},133:function(e,t,n){"use strict";var a=(n(125),n(130));t.a={name:"Calculations",props:{show:{required:!0,type:String},expenses:{required:!1,type:Array,default:function(){return[]}},daysRemaining:{required:!1,type:Number},amountPaid:{required:!0,type:Number}},components:{Currency:a.a},computed:{amountSpent:function(){return this.expenses.reduce(function(e,t){return e+parseFloat(t.amount)},0)},amountRemaining:function(){return parseFloat(this.amountPaid-this.amountSpent)},amountPerDay:function(){return this.amountRemaining/this.daysRemaining}}}},134:function(e,t,n){e.exports=n(135)},135:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(136),s=n(140);new a.a({el:"#app",render:function(e){return e(s.a)}})},140:function(e,t,n){"use strict";function a(e){n(141)}var s=n(4),r=n(944),i=n(2),o=a,u=i(s.a,r.a,!1,o,null,null);t.a=u.exports},141:function(e,t){},144:function(e,t,n){"use strict";function a(e){n(145)}var s=n(126),r=n(146),i=n(2),o=a,u=i(s.a,r.a,!1,o,null,null);t.a=u.exports},145:function(e,t){},146:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("fieldset",[n("legend",[e._v("Add an expense")]),e._v(" "),n("label",[e._v("\n    Category:\n    "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.expense.category,expression:"expense.category"}],ref:"category",staticClass:"field",attrs:{type:"text"},domProps:{value:e.expense.category},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.handleSubmit(t)},input:function(t){t.target.composing||e.$set(e.expense,"category",t.target.value)}}})]),e._v(" "),n("label",[e._v("\n    Amount\n    "),n("money",e._b({ref:"amount",staticClass:"field",nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.handleSubmit(t)}},model:{value:e.expense.amount,callback:function(t){e.$set(e.expense,"amount",t)},expression:"expense.amount"}},"money",e.money,!1))],1)])},s=[],r={render:a,staticRenderFns:s};t.a=r},147:function(e,t,n){"use strict";function a(e){n(148)}var s=n(127),r=n(943),i=n(2),o=a,u=i(s.a,r.a,!1,o,null,null);t.a=u.exports},148:function(e,t){},149:function(e,t,n){"use strict";function a(e){n(150)}var s=n(128),r=n(941),i=n(2),o=a,u=i(s.a,r.a,!1,o,null,null);t.a=u.exports},150:function(e,t){},4:function(e,t,n){"use strict";var a=n(1),s=n.n(a),r=n(124),i=(n.n(r),n(125)),o=n(144),u=n(147),l=n(132);t.a={data:function(){return{amountPaid:i.a.get("amountPaid",{parser:"FLOAT",default:0}),money:{decimal:".",thousands:",",prefix:"$",suffix:"",precision:2,masked:!1},currentMonthName:s()().format("MMMM"),editingExpense:null,editingRow:null,expenses:i.a.get("expenses",{parser:"JSON",default:[]}),payDay1:s()("2018-01-12"),payDay2:s()("2018-01-31")}},components:{Money:r.Money,ExpenseForm:o.a,ExpenseTable:u.a,Calculations:l.a},watch:{expenses:function(e,t){i.a.set("expenses",this.expenses,{formatter:"JSON"})},amountPaid:function(e){i.a.set("amountPaid",e)}},computed:{formattedPayDay1:{get:function(){return this.payDay1.format("YYYY-MM-DD")},set:function(e){this.payDay1=s()(e)}},formattedPayDay2:{get:function(){return this.payDay2.format("YYYY-MM-DD")},set:function(e){this.payDay2=s()(e)}},daysUntilNextPayDay:function(){return s()().startOf("day")<this.payDay1.startOf("day")?this.payDay1.startOf("day").from(s()().startOf("day")):this.payDay2.startOf("day").from(s()().startOf("day"))}},methods:{recordExpense:function(e){var t=this.expenses.slice(0);null!=this.editingRow?t[this.editingRow]=e:t.unshift(e),this.editingRow=null,this.expenses=t},deleteExpense:function(e){this.expenses.splice(e,1)},editExpense:function(e){this.editingRow=e,this.editingExpense=this.expenses[this.editingRow]},getDaysRemaining:function(){return s()()<this.payDay1?this.payDay1.startOf("day").diff(s()().startOf("day"),"days"):this.payDay2.startOf("day").diff(s()().startOf("day"),"days")}}}},940:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("span",[e._v("\n  "+e._s(e.formattedValue)+"\n")])},s=[],r={render:a,staticRenderFns:s};t.a=r},941:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table__row"},[n("div",{staticClass:"table__cell table__cell--numeric"},[n("Currency",{attrs:{value:e.expense.amount}})],1),e._v(" "),n("div",{staticClass:"table__cell"},[e._v("\n    "+e._s(e.expense.category)+"\n  ")]),e._v(" "),n("div",{staticClass:"table__cell"},[n("icon",{staticClass:"action action--edit",attrs:{name:"edit"},nativeOn:{click:function(t){e.editClickHandler(e.i)}}}),e._v(" "),n("icon",{staticClass:"action action--remove",attrs:{name:"times"},nativeOn:{click:function(t){e.deleteClickHandler(e.i)}}})],1)])},s=[],r={render:a,staticRenderFns:s};t.a=r},942:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return"remaining"==e.show?n("span",[n("strong",[e._v("Remaining:")]),e._v(" "),n("Currency",{attrs:{value:e.amountRemaining}})],1):"spent"==e.show?n("span",[n("strong",[e._v("Total")]),e._v(" "),n("Currency",{attrs:{value:e.amountSpent}})],1):"perDay"==e.show?n("span",[n("strong",[e._v("You can spend:")]),e._v(" "),n("Currency",{attrs:{value:e.amountPerDay}}),e._v("\n  per day\n")],1):e._e()},s=[],r={render:a,staticRenderFns:s};t.a=r},943:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"expenseTable",staticClass:"table"},[e._m(0),e._v(" "),n("div",{staticClass:"table__body"},e._l(e.expenses,function(t,a){return n("ExpenseRow",{key:a,attrs:{editClickHandler:e.editClickHandler,deleteClickHandler:e.deleteClickHandler,expense:t,i:a}})})),e._v(" "),n("div",{staticClass:"table__foot"},[n("div",{staticClass:"table__row"},[n("div",{staticClass:"table__cell"},[n("Calculations",{attrs:{show:"spent",expenses:e.expenses,amountPaid:e.amountPaid}})],1),e._v(" "),n("div",{staticClass:"table__cell"},[e._v("\n         \n      ")]),e._v(" "),n("div",{staticClass:"table__cell"},[n("Calculations",{attrs:{show:"remaining",expenses:e.expenses,amountPaid:e.amountPaid}})],1)])])])},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table__head"},[n("div",{staticClass:"table__row"},[n("div",{staticClass:"\n          table__cell\n          table__cell--head\n          table__cell--numeric\n        "},[e._v("\n        Amount\n      ")]),e._v(" "),n("div",{staticClass:"table__cell table__cell--head"},[e._v("\n        Category\n      ")]),e._v(" "),n("div",{staticClass:"table__cell table__cell--head"},[e._v("\n         \n      ")])])])}],r={render:a,staticRenderFns:s};t.a=r},944:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"grid",attrs:{id:"db"}},[n("div",{staticClass:"grid__col--3"},[n("h1",[e._v(e._s(e.currentMonthName))]),e._v(" "),n("ExpenseForm",{attrs:{submitHandler:e.recordExpense,editingExpense:e.editingExpense}}),e._v(" "),n("fieldset",[n("legend",[e._v("Income settings")]),e._v(" "),n("label",[e._v("\n        Income each payday\n        "),n("money",e._b({model:{value:e.amountPaid,callback:function(t){e.amountPaid=t},expression:"amountPaid"}},"money",e.money,!1))],1),e._v(" "),n("label",[e._v("\n        First pay day\n        "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.formattedPayDay1,expression:"formattedPayDay1"}],attrs:{type:"date"},domProps:{value:e.formattedPayDay1},on:{input:function(t){t.target.composing||(e.formattedPayDay1=t.target.value)}}})]),e._v(" "),n("label",[e._v("\n        Second pay day\n        "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.formattedPayDay2,expression:"formattedPayDay2"}],attrs:{type:"date"},domProps:{value:e.formattedPayDay2},on:{input:function(t){t.target.composing||(e.formattedPayDay2=t.target.value)}}})])])],1),e._v(" "),n("div",{staticClass:"grid__col--9"},[n("ExpenseTable",{attrs:{expenses:e.expenses,amountPaid:e.amountPaid,editClickHandler:e.editExpense,deleteClickHandler:e.deleteExpense}}),e._v(" "),n("p",[n("strong",[e._v("Next pay day:")]),e._v("\n      "+e._s(e.daysUntilNextPayDay)+"\n    ")]),e._v(" "),n("p",[n("Calculations",{attrs:{show:"perDay",expenses:e.expenses,daysRemaining:e.getDaysRemaining(),amountPaid:e.amountPaid}})],1)],1)])},s=[],r={render:a,staticRenderFns:s};t.a=r}},[134]);
//# sourceMappingURL=client.286c0724.js.map