webpackJsonp([1],{124:function(e,t,n){"use strict";var a=n(125),s=n(139),r=n(2),i=r(a.a,s.a,!1,null,null,null);t.a=i.exports},125:function(e,t,n){"use strict";t.a={name:"Currency",props:{value:{required:!0,type:[Number,String],default:0}},computed:{formattedValue:function(){return new Intl.NumberFormat("us-EN",{style:"currency",currency:"USD"}).format(parseFloat(this.value))}}}},126:function(e,t,n){"use strict";var a=(n(141),n(0)),s=n(124);t.a={name:"ExpenseRow",props:{editClickHandler:{required:!1,type:Function,default:function(){return!1}},deleteClickHandler:{required:!1,type:Function,default:function(){return!1}},expense:{required:!0,type:Object},i:{required:!0,type:Number}},components:{Icon:a.a,Currency:s.a}}},128:function(e,t,n){e.exports=n(129)},129:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(130),s=n(134);new a.a({el:"#app",render:function(e){return e(s.a)}})},134:function(e,t,n){"use strict";function a(e){n(135)}var s=n(4),r=n(931),i=n(2),o=a,l=i(s.a,r.a,!1,o,null,null);t.a=l.exports},135:function(e,t){},139:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("span",[e._v("\n  "+e._s(e.formattedValue)+"\n")])},s=[],r={render:a,staticRenderFns:s};t.a=r},140:function(e,t,n){"use strict";var a=n(126),s=n(930),r=n(2),i=r(a.a,s.a,!1,null,null,null);t.a=i.exports},4:function(e,t,n){"use strict";var a=n(1),s=n.n(a),r=n(138),i=(n.n(r),n(124)),o=n(140);t.a={data:function(){return{currentMonthName:s()().format("MMMM"),editing:null,expenseAmount:"",expenseCategory:"",expenses:JSON.parse(localStorage.getItem("DB.expenses")||"[]"),payDay1:s()("2018-01-12"),payDay2:s()("2018-01-31"),amountPaid:parseFloat(localStorage.getItem("DB.amountPaid")||0),money:{decimal:".",thousands:",",prefix:"$",suffix:"",precision:2,masked:!1}}},components:{Money:r.Money,Currency:i.a,ExpenseRow:o.a},watch:{amountPaid:function(e){localStorage.setItem("DB.amountPaid",e)},expenses:function(e,t){if(localStorage.setItem("DB.expenses",JSON.stringify(this.expenses)),e.length>t.length){var n=this.$refs.expenseTable.querySelector(".table__body .table__row:first-child");n.classList.add("table__row--inserted","table__row--highlighted"),setTimeout(function(){n.classList.remove("table__row--highlighted"),setTimeout(function(){n.classList.remove("table__row--inserted")},1510)})}}},computed:{amountSpent:function(){return this.expenses.reduce(function(e,t){return e+parseFloat(t.amount)},0).toFixed(2)},formattedPayDay1:{get:function(){return this.payDay1.format("YYYY-MM-DD")},set:function(e){this.payDay1=s()(e)}},formattedPayDay2:{get:function(){return this.payDay2.format("YYYY-MM-DD")},set:function(e){this.payDay2=s()(e)}},amountRemaining:function(){return parseFloat(this.amountPaid-this.amountSpent).toFixed(2)},amountPerDay:function(){return(this.amountRemaining/this.getDaysRemaining()).toFixed(2)},daysUntilNextPayDay:function(){return s()().startOf("day")<this.payDay1.startOf("day")?this.payDay1.startOf("day").from(s()().startOf("day")):this.payDay2.startOf("day").from(s()().startOf("day"))}},methods:{recordExpense:function(e){var t=parseFloat(this.expenseAmount),n=this.expenseCategory,a=this;if(!function(e,t,n){return window.errorTimeout&&(clearTimeout(window.errorTimeout),window.errorTimeout=null),[0,NaN].includes(t)?(e.$refs.newExpenseAmount.classList.add("field--error"),window.errorTimeout=setTimeout(function(){e.$refs.newExpenseAmount.classList.remove("field--error")}),e.$refs.newExpenseAmount.focus(),e.$refs.newExpenseAmount.select(),!1):!!n.length||(e.$refs.newExpenseCategory.classList.add("field--error"),window.errorTimeout=setTimeout(function(){e.$refs.newExpenseCategory.classList.remove("field--error")}),e.$refs.newExpenseCategory.focus(),!1)}(a,t,n))return!1;(function(e,t,n){var a=e.expenses.slice(0);null!=e.editing?a[e.editing]={amount:t.toFixed(2),category:n}:a.unshift({amount:t.toFixed(2),category:n}),e.expenses=a})(a,t,n),function(e){e.expenseAmount="",e.expenseCategory="",e.$refs.newExpenseCategory.focus()}(a)},deleteExpense:function(e){this.expenses.splice(e,1)},editExpense:function(e){var t=this.expenses[e];this.editing=e,this.expenseAmount=t.amount,this.expenseCategory=t.category},getDaysRemaining:function(){return s()()<this.payDay1?this.payDay1.startOf("day").diff(s()().startOf("day"),"days"):this.payDay2.startOf("day").diff(s()().startOf("day"),"days")}}}},930:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table__row"},[n("div",{staticClass:"table__cell table__cell--numeric"},[n("Currency",{attrs:{value:e.expense.amount}})],1),e._v(" "),n("div",{staticClass:"table__cell"},[e._v("\n    "+e._s(e.expense.category)+"\n  ")]),e._v(" "),n("div",{staticClass:"table__cell"},[n("icon",{staticClass:"action action--edit",attrs:{name:"edit"},nativeOn:{click:function(t){e.editClickHandler(e.i)}}}),e._v(" "),n("icon",{staticClass:"action action--remove",attrs:{name:"times"},nativeOn:{click:function(t){e.deleteClickHandler(e.i)}}})],1)])},s=[],r={render:a,staticRenderFns:s};t.a=r},931:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"grid",attrs:{id:"db"}},[n("div",{staticClass:"grid__col--3"},[n("h1",[e._v(e._s(e.currentMonthName))]),e._v(" "),n("fieldset",[n("legend",[e._v("Add an expense")]),e._v(" "),n("label",[e._v("\n        Category:\n        "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.expenseCategory,expression:"expenseCategory"}],ref:"newExpenseCategory",staticClass:"field",attrs:{type:"text"},domProps:{value:e.expenseCategory},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.recordExpense(t)},input:function(t){t.target.composing||(e.expenseCategory=t.target.value)}}})]),e._v(" "),n("label",[e._v("\n        Amount\n        "),n("money",e._b({ref:"newExpenseAmount",staticClass:"field",nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.recordExpense(t)}},model:{value:e.expenseAmount,callback:function(t){e.expenseAmount=t},expression:"expenseAmount"}},"money",e.money,!1))],1)]),e._v(" "),n("fieldset",[n("legend",[e._v("Income settings")]),e._v(" "),n("label",[e._v("\n        Income each payday\n        "),n("money",e._b({model:{value:e.amountPaid,callback:function(t){e.amountPaid=t},expression:"amountPaid"}},"money",e.money,!1))],1),e._v(" "),n("label",[e._v("\n        First pay day\n        "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.formattedPayDay1,expression:"formattedPayDay1"}],attrs:{type:"date"},domProps:{value:e.formattedPayDay1},on:{input:function(t){t.target.composing||(e.formattedPayDay1=t.target.value)}}})]),e._v(" "),n("label",[e._v("\n        Second pay day\n        "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.formattedPayDay2,expression:"formattedPayDay2"}],attrs:{type:"date"},domProps:{value:e.formattedPayDay2},on:{input:function(t){t.target.composing||(e.formattedPayDay2=t.target.value)}}})])])]),e._v(" "),n("div",{staticClass:"grid__col--9"},[n("div",{ref:"expenseTable",staticClass:"table"},[e._m(0),e._v(" "),n("div",{staticClass:"table__body"},e._l(e.expenses,function(t,a){return n("ExpenseRow",{key:a,attrs:{editClickHandler:e.editExpense,deleteClickHandler:e.deleteExpense,expense:t,i:a}})})),e._v(" "),n("div",{staticClass:"table__foot"},[n("div",{staticClass:"table__row"},[n("div",{staticClass:"table__cell"},[n("strong",[e._v("Total")]),e._v(" "),n("Currency",{attrs:{value:e.amountSpent}})],1),e._v(" "),n("div",{staticClass:"table__cell"},[e._v("\n             \n          ")]),e._v(" "),n("div",{staticClass:"table__cell"},[n("strong",[e._v("Remaining:")]),e._v(" "),n("Currency",{attrs:{value:e.amountRemaining}})],1)])])]),e._v(" "),n("p",[n("strong",[e._v("Next pay day:")]),e._v("\n      "+e._s(e.daysUntilNextPayDay)+"\n    ")]),e._v(" "),n("p",[n("strong",[e._v("You can spend:")]),e._v(" "),n("Currency",{attrs:{value:e.amountPerDay}}),e._v("\n      per day\n    ")],1)])])},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table__head"},[n("div",{staticClass:"table__row"},[n("div",{staticClass:"\n              table__cell\n              table__cell--head\n              table__cell--numeric\n            "},[e._v("\n            Amount\n          ")]),e._v(" "),n("div",{staticClass:"table__cell table__cell--head"},[e._v("\n            Category\n          ")]),e._v(" "),n("div",{staticClass:"table__cell table__cell--head"},[e._v("\n             \n          ")])])])}],r={render:a,staticRenderFns:s};t.a=r}},[128]);
//# sourceMappingURL=client.9c2f7da7.js.map