webpackJsonp([1],{125:function(e,t,n){"use strict";var a=n(126),s=n(140),i=n(2),r=i(a.a,s.a,!1,null,null,null);t.a=r.exports},126:function(e,t,n){"use strict";t.a={name:"Currency",props:{value:{required:!0,type:[Number,String],default:0}},computed:{formattedValue:function(){return new Intl.NumberFormat("us-EN",{style:"currency",currency:"USD"}).format(parseFloat(this.value))}}}},127:function(e,t,n){"use strict";var a=n(124),s=(n.n(a),function(e,t){this.amount=e||0,this.category=t||""});t.a={name:"ExpenseForm",data:function(){return{expense:new s,money:{decimal:".",thousands:",",prefix:"$",suffix:"",precision:2,masked:!1}}},props:{submitHandler:{required:!1,type:Function,default:function(){return!1}},editingExpense:{required:!1,type:Object,default:{}}},components:{Money:a.Money},watch:{editingExpense:function(e){this.expense=new s(e.amount,e.category)}},methods:{handleSubmit:function(){if(!function(e){var t=parseFloat(e.expense.amount).toFixed(2),n=e.expense.category;return window.errorTimeout&&(clearTimeout(window.errorTimeout),window.errorTimeout=null),[0,NaN].includes(t)?(e.$refs.amount.$el.classList.add("field--error"),window.errorTimeout=setTimeout(function(){e.$refs.amount.$el.classList.remove("field--error")}),e.$refs.amount.$el.focus(),e.$refs.amount.$el.select(),!1):!!n.length||(e.$refs.category.classList.add("field--error"),window.errorTimeout=setTimeout(function(){e.$refs.category.classList.remove("field--error")}),e.$refs.category.focus(),!1)}(this))return!1;this.submitHandler(this.expense),this.expense=new s,this.$refs.category.focus()}}}},128:function(e,t,n){"use strict";var a=(n(144),n(0)),s=n(125);t.a={name:"ExpenseRow",props:{editClickHandler:{required:!1,type:Function,default:function(){return!1}},deleteClickHandler:{required:!1,type:Function,default:function(){return!1}},expense:{required:!0,type:Object},i:{required:!0,type:Number}},components:{Icon:a.a,Currency:s.a}}},130:function(e,t,n){e.exports=n(131)},131:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(132),s=n(136);new a.a({el:"#app",render:function(e){return e(s.a)}})},136:function(e,t,n){"use strict";function a(e){n(137)}var s=n(4),i=n(934),r=n(2),o=a,l=r(s.a,i.a,!1,o,null,null);t.a=l.exports},137:function(e,t){},140:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("span",[e._v("\n  "+e._s(e.formattedValue)+"\n")])},s=[],i={render:a,staticRenderFns:s};t.a=i},141:function(e,t,n){"use strict";var a=n(127),s=n(142),i=n(2),r=i(a.a,s.a,!1,null,null,null);t.a=r.exports},142:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("fieldset",[n("legend",[e._v("Add an expense")]),e._v(" "),n("label",[e._v("\n    Category:\n    "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.expense.category,expression:"expense.category"}],ref:"category",staticClass:"field",attrs:{type:"text"},domProps:{value:e.expense.category},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.handleSubmit(t)},input:function(t){t.target.composing||e.$set(e.expense,"category",t.target.value)}}})]),e._v(" "),n("label",[e._v("\n    Amount\n    "),n("money",e._b({ref:"amount",staticClass:"field",nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.handleSubmit(t)}},model:{value:e.expense.amount,callback:function(t){e.$set(e.expense,"amount",t)},expression:"expense.amount"}},"money",e.money,!1))],1)])},s=[],i={render:a,staticRenderFns:s};t.a=i},143:function(e,t,n){"use strict";var a=n(128),s=n(933),i=n(2),r=i(a.a,s.a,!1,null,null,null);t.a=r.exports},4:function(e,t,n){"use strict";var a=n(1),s=n.n(a),i=n(124),r=(n.n(i),n(125)),o=n(141),l=n(143);t.a={data:function(){return{currentMonthName:s()().format("MMMM"),editingExpense:null,editingRow:null,expenses:JSON.parse(localStorage.getItem("DB.expenses")||"[]"),payDay1:s()("2018-01-12"),payDay2:s()("2018-01-31"),amountPaid:parseFloat(localStorage.getItem("DB.amountPaid")||0),money:{decimal:".",thousands:",",prefix:"$",suffix:"",precision:2,masked:!1}}},components:{Money:i.Money,Currency:r.a,ExpenseForm:o.a,ExpenseRow:l.a},watch:{amountPaid:function(e){localStorage.setItem("DB.amountPaid",e)},expenses:function(e,t){if(localStorage.setItem("DB.expenses",JSON.stringify(this.expenses)),e.length>t.length){var n=this.$refs.expenseTable.querySelector(".table__body .table__row:first-child");n.classList.add("table__row--inserted","table__row--highlighted"),setTimeout(function(){n.classList.remove("table__row--highlighted"),setTimeout(function(){n.classList.remove("table__row--inserted")},1510)})}}},computed:{amountSpent:function(){return this.expenses.reduce(function(e,t){return e+parseFloat(t.amount)},0).toFixed(2)},formattedPayDay1:{get:function(){return this.payDay1.format("YYYY-MM-DD")},set:function(e){this.payDay1=s()(e)}},formattedPayDay2:{get:function(){return this.payDay2.format("YYYY-MM-DD")},set:function(e){this.payDay2=s()(e)}},amountRemaining:function(){return parseFloat(this.amountPaid-this.amountSpent).toFixed(2)},amountPerDay:function(){return(this.amountRemaining/this.getDaysRemaining()).toFixed(2)},daysUntilNextPayDay:function(){return s()().startOf("day")<this.payDay1.startOf("day")?this.payDay1.startOf("day").from(s()().startOf("day")):this.payDay2.startOf("day").from(s()().startOf("day"))}},methods:{recordExpense:function(e){var t=this.expenses.slice(0);null!=this.editingRow?t[this.editingRow]=e:t.unshift(e),this.editingRow=null,this.expenses=t},deleteExpense:function(e){this.expenses.splice(e,1)},editExpense:function(e){this.editingRow=e,this.editingExpense=this.expenses[this.editingRow]},getDaysRemaining:function(){return s()()<this.payDay1?this.payDay1.startOf("day").diff(s()().startOf("day"),"days"):this.payDay2.startOf("day").diff(s()().startOf("day"),"days")}}}},933:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table__row"},[n("div",{staticClass:"table__cell table__cell--numeric"},[n("Currency",{attrs:{value:e.expense.amount}})],1),e._v(" "),n("div",{staticClass:"table__cell"},[e._v("\n    "+e._s(e.expense.category)+"\n  ")]),e._v(" "),n("div",{staticClass:"table__cell"},[n("icon",{staticClass:"action action--edit",attrs:{name:"edit"},nativeOn:{click:function(t){e.editClickHandler(e.i)}}}),e._v(" "),n("icon",{staticClass:"action action--remove",attrs:{name:"times"},nativeOn:{click:function(t){e.deleteClickHandler(e.i)}}})],1)])},s=[],i={render:a,staticRenderFns:s};t.a=i},934:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"grid",attrs:{id:"db"}},[n("div",{staticClass:"grid__col--3"},[n("h1",[e._v(e._s(e.currentMonthName))]),e._v(" "),n("ExpenseForm",{attrs:{submitHandler:e.recordExpense,editingExpense:e.editingExpense}}),e._v(" "),n("fieldset",[n("legend",[e._v("Income settings")]),e._v(" "),n("label",[e._v("\n        Income each payday\n        "),n("money",e._b({model:{value:e.amountPaid,callback:function(t){e.amountPaid=t},expression:"amountPaid"}},"money",e.money,!1))],1),e._v(" "),n("label",[e._v("\n        First pay day\n        "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.formattedPayDay1,expression:"formattedPayDay1"}],attrs:{type:"date"},domProps:{value:e.formattedPayDay1},on:{input:function(t){t.target.composing||(e.formattedPayDay1=t.target.value)}}})]),e._v(" "),n("label",[e._v("\n        Second pay day\n        "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.formattedPayDay2,expression:"formattedPayDay2"}],attrs:{type:"date"},domProps:{value:e.formattedPayDay2},on:{input:function(t){t.target.composing||(e.formattedPayDay2=t.target.value)}}})])])],1),e._v(" "),n("div",{staticClass:"grid__col--9"},[n("div",{ref:"expenseTable",staticClass:"table"},[e._m(0),e._v(" "),n("div",{staticClass:"table__body"},e._l(e.expenses,function(t,a){return n("ExpenseRow",{key:a,attrs:{editClickHandler:e.editExpense,deleteClickHandler:e.deleteExpense,expense:t,i:a}})})),e._v(" "),n("div",{staticClass:"table__foot"},[n("div",{staticClass:"table__row"},[n("div",{staticClass:"table__cell"},[n("strong",[e._v("Total")]),e._v(" "),n("Currency",{attrs:{value:e.amountSpent}})],1),e._v(" "),n("div",{staticClass:"table__cell"},[e._v("\n             \n          ")]),e._v(" "),n("div",{staticClass:"table__cell"},[n("strong",[e._v("Remaining:")]),e._v(" "),n("Currency",{attrs:{value:e.amountRemaining}})],1)])])]),e._v(" "),n("p",[n("strong",[e._v("Next pay day:")]),e._v("\n      "+e._s(e.daysUntilNextPayDay)+"\n    ")]),e._v(" "),n("p",[n("strong",[e._v("You can spend:")]),e._v(" "),n("Currency",{attrs:{value:e.amountPerDay}}),e._v("\n      per day\n    ")],1)])])},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table__head"},[n("div",{staticClass:"table__row"},[n("div",{staticClass:"\n              table__cell\n              table__cell--head\n              table__cell--numeric\n            "},[e._v("\n            Amount\n          ")]),e._v(" "),n("div",{staticClass:"table__cell table__cell--head"},[e._v("\n            Category\n          ")]),e._v(" "),n("div",{staticClass:"table__cell table__cell--head"},[e._v("\n             \n          ")])])])}],i={render:a,staticRenderFns:s};t.a=i}},[130]);
//# sourceMappingURL=client.01658b3f.js.map